This diagram represents the flow of communication when a player attempts to draw a tile from the deck during the assembly phase.

1) Client Input Validation
The Client checks if the index of the tile to draw is valid (i.e., between 0 and 151).

If the index is invalid (i.e., < 0 or > 151), the Client displays an error message to itself:
"Outbound index, please retry".

2) Valid Draw Request
If the index is valid, the Client sends a pickTile(client, input) request to the Server.

The Server forwards this request to the Controller with pickTile(listener, id).

3) Game Logic: Drawing the Tile
The Controller asks the Game to draw a tile for the player using pickTile(player, tileId).

4) Check for Tile Availability
The Game checks whether the tile with that ID exists in assemblingTiles.

If the tile is null (already picked or unavailable):

The Game returns null to the Controller.

The Controller triggers the event ROBBED_TILE via listener.onEvent(ROBBED_TILE) → The Server updates the Client with showUpdate(ROBBED_TILE).

Then, the Controller also triggers the ASSEMBLY event to continue the assembly phase → showUpdate(ASSEMBLY) is sent to the Client.

5) Tile Available
If the tile is available:

The Game assigns the tile to the Player using setHandTile(tile).

The Game sends the tile to the Controller.

The Controller then requests the Player’s SpaceshipPlance.

The Controller retrieves:

The reserve spot from SpaceshipPlance via getReserveSpot

The tile-to-grid mapping via getTileToGrid

The SpaceshipPlance returns both reserveSpot and tileToGrid to the Controller.

6) Client UI Update
The Controller sequentially notifies the Client to update the view with the following events:

SHOW_SHIP → showUpdate(SHOW_SHIP)

PICKED_TILE → showUpdate(PICKED_TILE)
